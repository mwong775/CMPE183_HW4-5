{{extend 'layout.html'}}

{{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<script>
    var get_title_url = "{{=URL('api', 'get_title', user_signature=True)}}";
    var set_title_url = "{{=URL('api', 'set_title', user_signature=True)}}";
    var is_logged_in = {{='true' if auth.user else 'false'}};
</script>
{{end}}

<div class="main_content">

    <div id="vue-div" class="display:none">
        <!-- Your code goes here.  Remember to call $("#vue-div").show() once you get the data for the first time. -->
    
        <div v-if="is_logged_in">
            
            <div v-on:click="edit_title" class="title">
                <input 
                    :disabled="!is_title_editable"                    
                    v-on:blur="end_edit_title" 
                    v-model="title" placeholder="Write a title here" />
                <i v-if="title_save_pending" class="fa fa-spinner fa-pulse fa-fw"></i>
            </div>
            
        </div>
    
    </div>


</div>

<script src="{{=URL('static', 'js/default_index.js')}}"></script>
